<template name="pestsLib">
	
	<center>
		<div>
			<h3> {{getCMS.searchLabelText}} </h3>
		</div>

		<div class="col-sm-12">
			<div class="searchbar">
					{{> EasySearch.Input index=pestsIndex attributes=searchAttributes }}		      
		  	</div>
		</div>
	</center>

	{{#EasySearch.IfInputEmpty index=pestsIndex }}
	<center>
		<div><h4>For example "Rice"</h4></div>
	</center>

	{{else}}
	<center>
		<div><h4>SEARCH RESULTS</h4></div>
	</center>

	<div class="wrapper">
		{{#EasySearch.IfSearching index=pestsIndex}}
			{{>spinner}}
		{{/EasySearch.IfSearching}}

		<div class="container">
		{{#EasySearch.Each index=pestsIndex}}		
			{{#if equals type "Pest"}}
				{{> individualPest}}
			{{/if}}
		{{/EasySearch.Each}}
		</div>

		<div class="container">
		{{#EasySearch.IfNoResults index=pestsIndex}}
			<center><div>No results found!</div></center>
		{{/EasySearch.IfNoResults}}
		</div>

	</div>

	{{/EasySearch.IfInputEmpty}}

	<br/>

	<div>
	{{#each getCMS.viewPestType}}
		<div class="col-sm-12 col-md-12 col-lg-12">
			<h3 class="pest-category-label"> {{this}} Pests </h3>
		</div>

		{{> pestPaginate}}
	    
	{{/each}}
    </div>

</template>

<template name="pestPaginate">
	<div>
	{{#if isReady}}
		<div class="container">
			{{#each documents this}}
				{{> individualPest}}
			{{/each}}
		</div>
		{{> defaultBootstrapPaginator pagination=templatePagination limit=10 containerClass="text-center" onClick=clickEvent}}
	{{else}}
		Loading...
	{{/if}}
	</div>
</template>

<template name="individualPest">
	<div class="pest-data-body col-xs-6 col-sm-4 col-md-3 col-lg-3">
		<div class="panel panel-default">
			<div class="fixed-panel panel-body">
				<div>
					<img src="{{image}}" class="img-thumbnail fixed-image" alt="{{name}}" width="200" height="200"/>
				</div>
				<div>
					<span>{{name}}</span>
			  	</div>
		  	</div>
		  
		  	<div class="panel-footer">
				<a class="view-page" href="/entity/{{_id}}">
					View Page
		 		</a>
		  	</div>
		</div>
	</div>
</template>

<!-- <template name="searchBar">
	<center>
		<div class="col-sm-12">
			<div class="searchbar">
		      {{> EasySearch.Input index=pestsIndex placeholder="Search" noDocumentsOnEmpty="true"}}
		    </div>
	    </div>

		<div>
			{{#EasySearch.IfSearching index=pestsIndex}}
			  <div>Searching</div>
			{{/EasySearch.IfSearching}}

	        <div class="container">
				{{#EasySearch.Each index=pestsIndex}}
					{{> individualPest}}
				{{/EasySearch.Each}}
			</div>
		</div>

		{{#EasySearch.IfNoResults index=pestsIndex }}
			<div>No results found!</div>
		{{/EasySearch.IfNoResults}}
	</center>
</template> -->